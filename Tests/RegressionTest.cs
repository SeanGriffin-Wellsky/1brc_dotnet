using ConsoleApp;

namespace Tests;

public class RegressionTest
{
    private static readonly string ExpectedOutput =
        "{Abha=-24.5/18.1/58.9, Abidjan=-13.9/26.0/62.6, Abéché=-9.6/29.3/68.4, Accra=-16.4/26.5/66.2, Addis Ababa=-24.5/16.0/54.1, Adelaide=-24.7/17.3/57.0, Aden=-10.5/29.2/69.0, Ahvaz=-16.7/25.3/64.8, Albuquerque=-28.1/14.1/53.6, Alexandra=-32.1/11.0/50.7, Alexandria=-21.2/20.0/59.6, Algiers=-18.8/18.3/54.8, Alice Springs=-22.4/21.0/59.0, Almaty=-27.6/10.1/54.8, Amsterdam=-28.3/10.2/51.1, Anadyr=-50.6/-6.8/41.6, Anchorage=-35.5/2.8/43.9, Andorra la Vella=-27.2/9.8/51.7, Ankara=-25.7/12.1/62.3, Antananarivo=-24.3/17.9/57.1, Antsiranana=-12.1/25.2/73.3, Arkhangelsk=-42.6/1.3/42.7, Ashgabat=-19.6/17.1/52.7, Asmara=-19.8/15.7/54.2, Assab=-8.4/30.5/72.0, Astana=-33.4/3.5/42.5, Athens=-27.2/19.3/58.7, Atlanta=-18.5/17.0/58.1, Auckland=-28.3/15.3/55.0, Austin=-24.5/20.7/56.7, Baghdad=-14.2/22.8/57.8, Baguio=-19.7/19.5/62.2, Baku=-31.3/15.2/53.2, Baltimore=-24.1/13.2/49.7, Bamako=-12.2/27.9/68.9, Bangkok=-10.4/28.5/68.0, Bangui=-15.3/26.0/71.6, Banjul=-14.5/26.0/66.5, Barcelona=-22.7/18.2/59.6, Bata=-14.8/25.1/63.3, Batumi=-23.4/14.0/56.0, Beijing=-26.9/12.9/55.0, Beirut=-17.5/21.0/63.4, Belgrade=-27.1/12.5/50.4, Belize City=-10.3/26.8/67.5, Benghazi=-27.1/19.8/60.0, Bergen=-35.3/7.8/55.1, Berlin=-35.9/10.3/49.3, Bilbao=-23.9/14.8/57.1, Birao=-15.7/26.6/64.8, Bishkek=-28.5/11.3/52.6, Bissau=-14.1/27.1/67.5, Blantyre=-14.0/22.1/59.5, Bloemfontein=-25.6/15.6/63.0, Boise=-29.1/11.3/53.2, Bordeaux=-25.4/14.2/51.3, Bosaso=-22.8/30.1/67.3, Boston=-28.4/10.8/54.3, Bouaké=-11.0/25.9/66.0, Bratislava=-26.6/10.5/48.0, Brazzaville=-14.9/25.1/63.5, Bridgetown=-13.3/27.1/67.6, Brisbane=-23.9/21.4/59.5, Brussels=-31.4/10.4/52.7, Bucharest=-26.8/10.7/48.1, Budapest=-35.4/11.3/54.2, Bujumbura=-15.8/23.8/61.8, Bulawayo=-21.5/18.9/60.8, Burnie=-32.7/13.1/52.0, Busan=-23.5/15.0/54.8, Cabo San Lucas=-20.5/23.9/61.5, Cairns=-14.1/25.0/64.4, Cairo=-18.1/21.4/68.2, Calgary=-36.0/4.5/42.0, Canberra=-25.5/13.2/49.9, Cape Town=-26.4/16.1/55.2, Changsha=-25.0/17.5/55.2, Charlotte=-20.9/16.2/57.7, Chiang Mai=-12.4/25.8/65.9, Chicago=-28.6/9.8/48.2, Chihuahua=-24.2/18.7/56.6, Chittagong=-11.4/26.0/61.8, Chișinău=-36.0/10.3/53.6, Chongqing=-22.8/18.6/55.4, Christchurch=-32.4/12.2/50.0, City of San Marino=-29.8/11.8/56.2, Colombo=-18.9/27.4/70.6, Columbus=-29.8/11.7/49.4, Conakry=-13.6/26.3/70.7, Copenhagen=-35.4/9.1/44.4, Cotonou=-16.3/27.2/63.9, Cracow=-24.9/9.3/47.2, Da Lat=-25.4/18.0/58.9, Da Nang=-17.2/25.8/62.8, Dakar=-16.4/24.1/65.3, Dallas=-25.1/19.0/61.7, Damascus=-23.1/17.0/56.2, Dampier=-14.1/26.4/66.4, Dar es Salaam=-19.6/25.8/65.6, Darwin=-10.4/27.6/68.8, Denpasar=-13.5/23.8/63.8, Denver=-27.9/10.4/56.4, Detroit=-35.5/10.0/48.4, Dhaka=-12.9/25.8/62.4, Dikson=-49.9/-11.1/30.0, Dili=-15.4/26.5/65.1, Djibouti=-5.6/29.8/73.9, Dodoma=-16.2/22.8/62.8, Dolisie=-19.4/24.0/65.5, Douala=-20.0/26.7/68.1, Dubai=-14.6/27.1/72.6, Dublin=-27.7/9.8/54.3, Dunedin=-30.3/11.1/47.3, Durban=-17.8/20.6/59.3, Dushanbe=-27.0/14.7/63.0, Edinburgh=-33.4/9.3/50.3, Edmonton=-35.1/4.2/44.2, El Paso=-24.6/18.1/54.8, Entebbe=-17.2/21.0/62.5, Erbil=-24.2/19.4/58.4, Erzurum=-34.0/5.1/44.8, Fairbanks=-40.7/-2.3/37.1, Fianarantsoa=-19.7/18.0/56.1, Flores,  Petén=-13.6/26.4/65.2, Frankfurt=-28.0/10.7/50.9, Fresno=-26.3/18.0/55.1, Fukuoka=-23.1/17.0/59.1, Gaborone=-16.5/21.0/57.2, Gabès=-19.2/19.4/59.6, Gagnoa=-23.7/26.0/67.2, Gangtok=-21.3/15.1/53.8, Garissa=-14.5/29.3/69.6, Garoua=-8.8/28.3/67.1, George Town=-8.7/27.9/64.8, Ghanzi=-17.5/21.5/66.1, Gjoa Haven=-54.5/-14.5/35.5, Guadalajara=-22.2/20.9/69.4, Guangzhou=-15.3/22.4/65.8, Guatemala City=-19.1/20.4/62.0, Halifax=-33.4/7.5/45.8, Hamburg=-36.9/9.6/52.3, Hamilton=-26.3/13.8/53.3, Hanga Roa=-17.1/20.5/58.1, Hanoi=-17.7/23.6/62.3, Harare=-18.7/18.4/57.1, Harbin=-35.0/5.1/53.3, Hargeisa=-23.4/21.7/65.1, Hat Yai=-11.6/27.0/69.5, Havana=-17.8/25.3/72.6, Helsinki=-33.4/5.9/47.0, Heraklion=-17.5/18.9/55.0, Hiroshima=-24.9/16.2/62.0, Ho Chi Minh City=-12.7/27.3/71.3, Hobart=-24.3/12.8/57.0, Hong Kong=-22.6/23.2/61.2, Honiara=-10.7/26.5/66.3, Honolulu=-20.1/25.2/65.9, Houston=-19.8/20.8/62.0, Ifrane=-29.4/11.4/51.2, Indianapolis=-29.4/11.9/62.0, Iqaluit=-49.5/-9.3/30.1, Irkutsk=-38.9/1.1/41.2, Istanbul=-22.9/13.9/57.0, Jacksonville=-18.8/20.3/59.1, Jakarta=-17.3/26.8/68.4, Jayapura=-15.5/27.0/63.1, Jerusalem=-17.5/18.2/59.4, Johannesburg=-25.5/15.5/51.7, Jos=-14.9/22.8/59.8, Juba=-9.1/27.9/67.1, Kabul=-27.9/12.0/54.5, Kampala=-21.0/20.0/65.2, Kandi=-12.9/27.6/70.3, Kankan=-15.5/26.5/61.4, Kano=-18.9/26.4/67.1, Kansas City=-25.6/12.5/56.4, Karachi=-9.4/26.0/63.7, Karonga=-15.6/24.4/64.9, Kathmandu=-21.9/18.2/58.2, Khartoum=-8.6/29.9/68.3, Kingston=-16.4/27.5/65.7, Kinshasa=-13.8/25.3/69.7, Kolkata=-11.0/26.7/67.3, Kuala Lumpur=-13.0/27.4/68.1, Kumasi=-8.5/26.0/62.9, Kunming=-24.3/15.7/55.9, Kuopio=-37.9/3.3/41.0, Kuwait City=-13.2/25.5/64.2, Kyiv=-36.4/8.5/47.5, Kyoto=-24.8/15.8/56.5, La Ceiba=-14.5/26.3/65.4, La Paz=-20.3/23.6/65.0, Lagos=-10.3/26.8/64.5, Lahore=-17.1/24.3/62.1, Lake Havasu City=-19.7/23.8/62.5, Lake Tekapo=-28.3/8.7/51.6, Las Palmas de Gran Canaria=-22.4/21.3/59.2, Las Vegas=-24.6/20.3/61.2, Launceston=-25.4/13.1/50.9, Lhasa=-37.3/7.6/48.1, Libreville=-13.4/25.8/65.8, Lisbon=-23.5/17.6/62.0, Livingstone=-18.2/21.8/60.5, Ljubljana=-29.1/10.8/51.0, Lodwar=-9.7/29.2/67.9, Lomé=-13.3/26.9/66.2, London=-25.8/11.3/48.7, Los Angeles=-19.2/18.6/59.4, Louisville=-25.9/14.0/59.4, Luanda=-19.3/25.8/63.4, Lubumbashi=-16.8/20.9/63.7, Lusaka=-18.0/19.9/68.0, Luxembourg City=-32.7/9.3/48.1, Lviv=-34.2/7.8/47.3, Lyon=-29.7/12.4/48.5, Madrid=-27.5/14.9/53.1, Mahajanga=-13.1/26.3/74.9, Makassar=-10.4/26.6/72.3, Makurdi=-14.4/26.1/66.5, Malabo=-17.8/26.2/64.7, Malé=-10.3/28.0/66.0, Managua=-16.2/27.3/64.4, Manama=-21.2/26.6/71.7, Mandalay=-18.4/28.0/69.1, Mango=-13.1/28.1/67.3, Manila=-12.8/28.4/71.0, Maputo=-15.6/22.8/61.2, Marrakesh=-21.5/19.6/57.7, Marseille=-21.5/15.8/55.6, Maun=-15.2/22.4/60.9, Medan=-12.9/26.6/65.3, Mek'ele=-17.2/22.8/64.9, Melbourne=-26.5/15.0/53.1, Memphis=-22.3/17.2/57.9, Mexicali=-19.1/23.1/59.4, Mexico City=-23.5/17.5/56.6, Miami=-13.6/25.0/68.8, Milan=-30.9/13.0/61.1, Milwaukee=-31.0/8.9/54.7, Minneapolis=-33.8/7.8/45.7, Minsk=-37.7/6.7/46.7, Mogadishu=-11.9/27.0/66.4, Mombasa=-10.1/26.3/64.0, Monaco=-20.6/16.5/55.8, Moncton=-34.8/6.0/43.9, Monterrey=-15.6/22.3/61.3, Montreal=-35.8/6.8/50.9, Moscow=-33.4/5.8/48.6, Mumbai=-12.8/27.1/68.8, Murmansk=-37.5/0.6/40.6, Muscat=-14.0/28.0/74.0, Mzuzu=-21.1/17.6/55.7, N'Djamena=-12.8/28.2/71.8, Naha=-18.7/23.1/64.2, Nairobi=-28.6/17.9/58.5, Nakhon Ratchasima=-12.5/27.3/69.9, Napier=-24.1/14.6/57.6, Napoli=-23.2/15.9/55.0, Nashville=-24.2/15.4/54.0, Nassau=-21.0/24.5/63.0, Ndola=-19.7/20.4/58.6, New Delhi=-14.5/24.9/67.2, New Orleans=-20.2/20.7/63.1, New York City=-28.4/13.0/63.0, Ngaoundéré=-22.8/22.0/60.1, Niamey=-14.6/29.4/68.1, Nicosia=-23.5/19.6/56.2, Niigata=-23.8/14.0/54.2, Nouadhibou=-18.4/21.2/63.3, Nouakchott=-15.4/25.7/63.8, Novosibirsk=-40.2/1.6/46.8, Nuuk=-43.4/-1.5/38.1, Odesa=-26.0/10.8/52.8, Odienné=-17.1/26.1/64.4, Oklahoma City=-24.7/15.9/57.8, Omaha=-26.8/10.6/55.2, Oranjestad=-9.6/28.1/66.0, Oslo=-32.0/5.7/51.1, Ottawa=-38.9/6.6/48.2, Ouagadougou=-10.9/28.2/67.5, Ouahigouya=-8.8/28.7/78.1, Ouarzazate=-23.9/18.8/61.5, Oulu=-35.6/2.6/40.7, Palembang=-10.4/27.3/72.3, Palermo=-23.7/18.6/55.4, Palm Springs=-19.2/24.4/66.0, Palmerston North=-23.9/13.2/57.0, Panama City=-13.0/28.1/67.8, Parakou=-11.1/26.8/64.3, Paris=-29.3/12.3/54.0, Perth=-20.1/18.8/59.2, Petropavlovsk-Kamchatsky=-43.6/1.8/42.2, Philadelphia=-23.6/13.2/52.9, Phnom Penh=-11.6/28.1/71.6, Phoenix=-17.7/24.0/63.3, Pittsburgh=-30.7/10.8/52.0, Podgorica=-30.2/15.3/57.4, Pointe-Noire=-11.5/26.0/65.0, Pontianak=-14.9/27.7/65.4, Port Moresby=-15.1/26.9/70.9, Port Sudan=-10.4/28.4/68.8, Port Vila=-12.9/24.3/67.5, Port-Gentil=-14.5/26.0/64.9, Portland (OR)=-34.8/12.5/51.2, Porto=-22.3/15.7/59.1, Prague=-30.2/8.4/49.1, Praia=-21.9/24.5/62.7, Pretoria=-23.5/18.3/62.8, Pyongyang=-35.7/10.8/49.6, Rabat=-21.9/17.2/56.8, Rangpur=-19.6/24.5/63.3, Reggane=-10.1/28.3/70.5, Reykjavík=-35.8/4.4/43.0, Riga=-32.5/6.0/45.4, Riyadh=-11.7/26.0/65.3, Rome=-21.1/15.2/53.5, Roseau=-15.0/26.3/64.8, Rostov-on-Don=-32.6/9.8/58.0, Sacramento=-21.5/16.3/60.4, Saint Petersburg=-38.3/5.9/45.2, Saint-Pierre=-33.8/5.6/50.8, Salt Lake City=-30.1/11.6/57.5, San Antonio=-21.0/20.8/61.3, San Diego=-25.0/17.8/58.6, San Francisco=-28.4/14.7/56.6, San Jose=-23.1/16.4/54.3, San José=-20.7/22.5/60.3, San Juan=-19.9/27.2/67.5, San Salvador=-18.3/23.2/67.3, Sana'a=-18.8/19.9/58.8, Santo Domingo=-20.2/25.9/64.3, Sapporo=-35.9/8.9/47.4, Sarajevo=-28.6/10.1/49.5, Saskatoon=-32.7/3.3/43.4, Seattle=-25.3/11.4/54.2, Seoul=-29.2/12.5/52.3, Seville=-19.7/19.3/59.1, Shanghai=-20.5/16.7/53.7, Singapore=-8.9/27.0/67.2, Skopje=-24.2/12.3/53.8, Sochi=-25.4/14.1/52.6, Sofia=-27.6/10.6/47.2, Sokoto=-13.2/28.0/78.9, Split=-27.5/16.1/56.1, St. John's=-35.1/5.0/44.9, St. Louis=-27.8/13.9/53.9, Stockholm=-35.9/6.7/50.3, Surabaya=-12.0/27.0/71.6, Suva=-12.2/25.5/65.4, Suwałki=-33.4/7.2/47.3, Sydney=-20.8/17.8/55.6, Ségou=-8.8/28.0/67.6, Tabora=-15.8/22.9/63.7, Tabriz=-29.8/12.6/57.6, Taipei=-14.4/22.9/69.9, Tallinn=-37.6/6.5/44.6, Tamale=-17.6/27.9/67.3, Tamanrasset=-17.8/21.7/60.2, Tampa=-16.0/22.9/60.6, Tashkent=-22.7/14.8/53.8, Tauranga=-24.6/14.8/52.6, Tbilisi=-33.9/13.0/53.7, Tegucigalpa=-13.8/21.8/62.7, Tehran=-37.0/17.0/53.5, Tel Aviv=-19.8/20.1/58.7, Thessaloniki=-26.1/15.9/56.8, Thiès=-19.2/23.9/65.5, Tijuana=-20.2/17.8/58.9, Timbuktu=-10.5/28.0/66.7, Tirana=-21.9/15.2/56.4, Toamasina=-15.6/23.4/63.3, Tokyo=-25.7/15.4/53.8, Toliara=-18.6/24.1/62.6, Toluca=-32.3/12.4/51.0, Toronto=-30.2/9.4/52.2, Tripoli=-19.2/20.1/59.4, Tromsø=-35.7/3.1/44.1, Tucson=-16.2/21.0/59.0, Tunis=-19.9/18.4/60.4, Ulaanbaatar=-38.0/-0.4/43.7, Upington=-17.2/20.3/62.4, Vaduz=-34.0/10.1/52.6, Valencia=-24.0/18.3/56.6, Valletta=-22.4/18.8/60.6, Vancouver=-28.1/10.5/49.5, Veracruz=-15.3/25.5/68.1, Vienna=-26.2/10.5/47.6, Vientiane=-18.3/26.0/63.2, Villahermosa=-10.7/27.0/63.7, Vilnius=-32.4/6.0/55.6, Virginia Beach=-21.3/15.8/53.1, Vladivostok=-30.9/4.8/47.2, Warsaw=-35.9/8.5/52.0, Washington, D.C.=-26.4/14.6/57.6, Wau=-16.8/27.8/66.8, Wellington=-25.7/13.0/50.9, Whitehorse=-41.4/-0.1/41.5, Wichita=-28.8/14.0/54.9, Willemstad=-16.1/28.1/81.0, Winnipeg=-37.0/3.0/40.1, Wrocław=-33.9/9.6/51.4, Xi'an=-25.7/14.2/51.5, Yakutsk=-45.5/-8.8/33.0, Yangon=-11.4/27.6/67.6, Yaoundé=-15.6/23.7/67.4, Yellowknife=-41.4/-4.3/34.6, Yerevan=-29.7/12.4/53.3, Yinchuan=-26.3/9.0/50.7, Zagreb=-27.7/10.7/50.5, Zanzibar City=-13.5/26.1/65.7, Zürich=-31.8/9.3/48.5, Ürümqi=-32.2/7.3/49.2, İzmir=-22.4/18.0/65.0}";

    [Fact]
    public async Task TestRegression()
    {
        var output = await Runner.Run("./resources/measurements_10M.txt");
        Assert.Equal(ExpectedOutput, output.ToString());
    }
}